!function n(a,o,s){function r(e,t){if(!o[e]){if(!a[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(u)return u(e,!0);throw(i=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",i}i=o[e]={exports:{}},a[e][0].call(i.exports,function(t){return r(a[e][1][t]||t)},i,i.exports,n,a,o,s)}return o[e].exports}for(var u="function"==typeof require&&require,t=0;t<s.length;t++)r(s[t]);return r}({1:[function(t,e,i){"use strict";t("acf/field-sweet-spot"),t("acf/select-conditions"),t("acf/id-field")},{"acf/field-sweet-spot":2,"acf/id-field":3,"acf/select-conditions":4}],2:[function(t,e,i){(function(n){(function(){"use strict";var t,e=(t="undefined"!=typeof window?window.jQuery:void 0!==n?n.jQuery:null)&&t.__esModule?t:{default:t};var i=acf.Field.extend({type:"image_sweet_spot",events:{'input input[type="range"]':"onChange","change input":"onChange"},$control:function(){return this.$(".acf-input-wrap")},$input:function(){return this.$("input")},$inputX:function(){return this.$('input[type="range"].-sweet-spot-x')},$inputY:function(){return this.$('input[type="range"].-sweet-spot-y')},$inputAltX:function(){return this.$inputX().next('[type="number"]')},$inputAltY:function(){return this.$inputY().next('[type="number"]')},$image:function(){return(0,e.default)([".media-modal img.details-image",".media-modal .thumbnail-image img","#post-body-content .wp_attachment_image img"].join(",")).first()},initialize:function(){console.trace("init"),this.clickedContainer=this.clickedContainer.bind(this),this.setupImage=this.setupImage.bind(this),this.$marker=!1,this.$markerContainer=!1,this.$image().get(0).complete?this.setupImage():this.$image().on("load",this.setupImage)},setupImage:function(){var t=this.$image();t.length&&(this.$markerContainer=(0,e.default)('<div class="sweet-spot-container"></div>').css({left:t.get(0).offsetLeft+"px",top:t.get(0).offsetTop+"px",width:t.width()+"px",height:t.height()+"px"}).insertAfter(t).on("mouseup",this.clickedContainer),this.$marker=(0,e.default)('<span class="sweet-spot-marker"></span>').appendTo(this.$markerContainer),this.setValue({}))},clickedContainer:function(t){this.setValue({x:Math.round(100*t.offsetX/this.$markerContainer.width()),y:Math.round(100*t.offsetY/this.$markerContainer.height())})},getValue:function(){return{x:this.$inputX().val(),y:this.$inputY().val()}},setValue:function(t){this.busy=!0,t.x&&(acf.val(this.$inputX(),t.x),acf.val(this.$inputAltX(),this.$inputX().val(),!0)),t.y&&(acf.val(this.$inputY(),t.y),acf.val(this.$inputAltY(),this.$inputY().val(),!0)),this.$marker&&this.$marker.css({left:this.$inputX().val()+"%",top:this.$inputY().val()+"%"}),this.busy=!1},onChange:function(t,e){this.busy||(e.get(0)!==this.$inputX().get(0)&&e.get(0)!==this.$inputAltX().get(0)||this.setValue({x:e.val()}),e.get(0)!==this.$inputY().get(0)&&e.get(0)!==this.$inputAltY().get(0)||this.setValue({y:e.val()}))}});acf.registerFieldType(i)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e,i){(function(e){(function(){"use strict";var t,s=(t="undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null)&&t.__esModule?t:{default:t};function r(t){return t.toLowerCase().replace(/\s/g,"-").replace(/[^0-9a-z_\-]/g,"-")}(0,s.default)(document).on("change",'.acf-field.acf-id-field [type="text"]',function(t){var e=(0,s.default)(t.target).closest(".acf-field").attr("data-key"),i=(0,s.default)(t.target).closest(".acf-field").hasClass("acf-id-once"),n=(0,s.default)(t.target).val(),a=n;i&&(a=a.toLowerCase().normalize("NFD").replace(/(\s+)/g,"-").replace(/[\u0000-\u0020\u007F-\uffff]/g,""));for(var o=0;function(t,e,i){var n=r(e);try{(0,s.default)('[data-key="'.concat(t,'"] [type="text"]')).not(i).each(function(t,e){if(r((0,s.default)(e).val())===n)throw"val exists"})}catch(t){return!0}return!1}(e,a,t.target);)a="".concat(n,i?"-":" ").concat(++o);(0,s.default)(t.target).val(a)})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,e,i){"use strict";var n=acf.getFieldType("select");["image_size_select","post_type_select","taxonomy_select","role_select"].forEach(function(t){var e=n.extend({type:t});acf.registerFieldType(e),acf.registerConditionForFieldType("hasValue",t),acf.registerConditionForFieldType("hasNoValue",t),acf.registerConditionForFieldType("contains",t),acf.registerConditionForFieldType("selectEqualTo",t),acf.registerConditionForFieldType("selectNotEqualTo",t),acf.registerConditionForFieldType("selectionLessThan",t),acf.registerConditionForFieldType("selectionGreaterThan",t)})},{}]},{},[1]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhZG1pbi9zcmMvanMvYWRtaW4vYWNmLWlucHV0L2luZGV4LmpzIiwiYWRtaW4vc3JjL2pzL2xpYi9hY2YvZmllbGQtc3dlZXQtc3BvdC5qcyIsImFkbWluL3NyYy9qcy9saWIvYWNmL2lkLWZpZWxkLmpzIiwiYWRtaW4vc3JjL2pzL2xpYi9hY2Yvc2VsZWN0LWNvbmRpdGlvbnMuanMiXSwibmFtZXMiOlsiciIsImUiLCJuIiwidCIsIm8iLCJpIiwiZiIsImMiLCJyZXF1aXJlIiwidSIsImEiLCJFcnJvciIsImNvZGUiLCJwIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiX2pxdWVyeSIsIndpbmRvdyIsImdsb2JhbCIsIlN3ZWV0U3BvdEZpZWxkIiwiYWNmIiwiRmllbGQiLCJleHRlbmQiLCJ0eXBlIiwiZXZlbnRzIiwiaW5wdXQgaW5wdXRbdHlwZT1cInJhbmdlXCJdIiwiY2hhbmdlIGlucHV0IiwiJGNvbnRyb2wiLCJ0aGlzIiwiJCIsIiRpbnB1dCIsIiRpbnB1dFgiLCIkaW5wdXRZIiwiJGlucHV0QWx0WCIsIm5leHQiLCIkaW5wdXRBbHRZIiwiJGltYWdlIiwiZGVmYXVsdCIsImpvaW4iLCJmaXJzdCIsImluaXRpYWxpemUiLCJjb25zb2xlIiwidHJhY2UiLCJjbGlja2VkQ29udGFpbmVyIiwiYmluZCIsInNldHVwSW1hZ2UiLCIkbWFya2VyIiwiJG1hcmtlckNvbnRhaW5lciIsImdldCIsImNvbXBsZXRlIiwib24iLCIkaW1nIiwiY3NzIiwibGVmdCIsIm9mZnNldExlZnQiLCJ0b3AiLCJvZmZzZXRUb3AiLCJ3aWR0aCIsImhlaWdodCIsImluc2VydEFmdGVyIiwiYXBwZW5kVG8iLCJzZXRWYWx1ZSIsIngiLCJNYXRoIiwicm91bmQiLCJvZmZzZXRYIiwieSIsIm9mZnNldFkiLCJnZXRWYWx1ZSIsInZhbCIsImJ1c3kiLCJvbkNoYW5nZSIsImV2ZW50IiwicmVnaXN0ZXJGaWVsZFR5cGUiLCJzYW5pdGl6ZUlEIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiZG9jdW1lbnQiLCJrZXkiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiYXR0ciIsImlzX29uY2UiLCJoYXNDbGFzcyIsIm5ld192YWwiLCJub3JtYWxpemUiLCJ2Iiwib3duIiwiY29uY2F0Iiwibm90IiwiZWFjaCIsImVsIiwiZXJyIiwiaGFzVmFsIiwic2VsZWN0RmllbGQiLCJnZXRGaWVsZFR5cGUiLCJmb3JFYWNoIiwicmVnaXN0ZXJDb25kaXRpb25Gb3JGaWVsZFR5cGUiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEVBQUFDLEVBQUFDLEdBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FBQSxJQUFBSixFQUFBRyxHQUFBLENBQUEsSUFBQUosRUFBQUksR0FBQSxDQUFBLElBQUFFLEVBQUEsbUJBQUFDLFNBQUFBLFFBQUEsSUFBQUYsR0FBQUMsRUFBQSxPQUFBQSxFQUFBRixHQUFBLEdBQUEsR0FBQUksRUFBQSxPQUFBQSxFQUFBSixHQUFBLEdBQUEsTUFBQUssRUFBQSxJQUFBQyxNQUFBLHVCQUFBTixFQUFBLE1BQUFPLEtBQUEsbUJBQUFGLEVBQUFHLEVBQUFYLEVBQUFHLEdBQUEsQ0FBQVMsUUFBQSxJQUFBYixFQUFBSSxHQUFBLEdBQUFVLEtBQUFGLEVBQUFDLFFBQUEsU0FBQWQsR0FBQSxPQUFBSSxFQUFBSCxFQUFBSSxHQUFBLEdBQUFMLElBQUFBLElBQUFhLEVBQUFBLEVBQUFDLFFBQUFkLEVBQUFDLEVBQUFDLEVBQUFDLEdBQUEsT0FBQUQsRUFBQUcsR0FBQVMsUUFBQSxJQUFBLElBQUFMLEVBQUEsbUJBQUFELFNBQUFBLFFBQUFILEVBQUEsRUFBQUEsRUFBQUYsRUFBQWEsT0FBQVgsSUFBQUQsRUFBQUQsRUFBQUUsSUFBQSxPQUFBRCxFQUFBLENBQUEsQ0FBQWEsRUFBQSxDQUFBLFNBQUFULEVBQUFVLEVBQUFKLGdCQ0FBTixFQUFBLHdCQUNBQSxFQUFBLHlCQUNBQSxFQUFBLGlCLGdJQ0ZBLEksRUFBQVcsRyxFQUFBLG9CQUFBQyxPQUFBQSxPQUFBLFlBQUEsSUFBQUMsRUFBQUEsRUFBQSxPQUFBLE8sMkJBWUEsSUFBTUMsRUFBaUJDLElBQUlDLE1BQU1DLE9BQU8sQ0FFdkNDLEtBQU0sbUJBRU5DLE9BQVEsQ0FDUEMsNEJBQTZCLFdBQzdCQyxlQUFnQixZQUdqQkMsU0FBVSxXQUNULE9BQU9DLEtBQUtDLEVBQUUsb0JBRWZDLE9BQVEsV0FDUCxPQUFPRixLQUFLQyxFQUFFLFVBR2ZFLFFBQVMsV0FDUixPQUFPSCxLQUFLQyxFQUFFLHNDQUVmRyxRQUFTLFdBQ1IsT0FBT0osS0FBS0MsRUFBRSxzQ0FFZkksV0FBWSxXQUNYLE9BQU9MLEtBQUtHLFVBQVVHLEtBQUssb0JBRTVCQyxXQUFZLFdBQ1gsT0FBT1AsS0FBS0ksVUFBVUUsS0FBSyxvQkFFNUJFLE9BQVEsV0FNUCxPQUFPLEVBQUFwQixFQUFBcUIsU0FMVyxDQUNqQixpQ0FDQSxvQ0FDQSwrQ0FFbUJDLEtBQUssTUFBT0MsU0FHakNDLFdBQVksV0FDWEMsUUFBUUMsTUFBTSxRQUNkZCxLQUFLZSxpQkFBbUJmLEtBQUtlLGlCQUFpQkMsS0FBS2hCLE1BQ25EQSxLQUFLaUIsV0FBYWpCLEtBQUtpQixXQUFXRCxLQUFLaEIsTUFDdkNBLEtBQUtrQixTQUFVLEVBQ2ZsQixLQUFLbUIsa0JBQW1CLEVBQ25CbkIsS0FBS1EsU0FBU1ksSUFBSSxHQUFHQyxTQUN6QnJCLEtBQUtpQixhQUVMakIsS0FBS1EsU0FBU2MsR0FBRyxPQUFPdEIsS0FBS2lCLGFBSy9CQSxXQUFZLFdBQ1gsSUFBSU0sRUFBT3ZCLEtBQUtRLFNBQ1RlLEVBQUt0QyxTQU9aZSxLQUFLbUIsa0JBQW1CLEVBQUEvQixFQUFBcUIsU0FBRSw0Q0FDeEJlLElBQUksQ0FDSkMsS0FBT0YsRUFBS0gsSUFBSSxHQUFHTSxXQUFhLEtBQ2hDQyxJQUFNSixFQUFLSCxJQUFJLEdBQUdRLFVBQVksS0FDOUJDLE1BQVFOLEVBQUtNLFFBQVUsS0FDdkJDLE9BQVNQLEVBQUtPLFNBQVcsT0FFekJDLFlBQVlSLEdBQ1pELEdBQUcsVUFBVXRCLEtBQUtlLGtCQUNwQmYsS0FBS2tCLFNBQVUsRUFBQTlCLEVBQUFxQixTQUFFLDJDQUEyQ3VCLFNBQVVoQyxLQUFLbUIsa0JBQzNFbkIsS0FBS2lDLFNBQVMsTUFFZmxCLGlCQUFrQixTQUFTN0MsR0FFMUI4QixLQUFLaUMsU0FBUyxDQUNiQyxFQUFHQyxLQUFLQyxNQUFPLElBQU1sRSxFQUFFbUUsUUFBVXJDLEtBQUttQixpQkFBaUJVLFNBQ3ZEUyxFQUFHSCxLQUFLQyxNQUFPLElBQU1sRSxFQUFFcUUsUUFBVXZDLEtBQUttQixpQkFBaUJXLGFBSXpEVSxTQUFVLFdBQ1QsTUFBTyxDQUNOTixFQUFLbEMsS0FBS0csVUFBVXNDLE1BQ3BCSCxFQUFLdEMsS0FBS0ksVUFBVXFDLFFBR3RCUixTQUFVLFNBQVVRLEdBQ25CekMsS0FBSzBDLE1BQU8sRUFHSkQsRUFBSVAsSUFDWDFDLElBQUlpRCxJQUFLekMsS0FBS0csVUFBV3NDLEVBQUlQLEdBQzdCMUMsSUFBSWlELElBQUt6QyxLQUFLSyxhQUFjTCxLQUFLRyxVQUFVc0MsT0FBTyxJQUUzQ0EsRUFBSUgsSUFDWDlDLElBQUlpRCxJQUFLekMsS0FBS0ksVUFBV3FDLEVBQUlILEdBQzdCOUMsSUFBSWlELElBQUt6QyxLQUFLTyxhQUFjUCxLQUFLSSxVQUFVcUMsT0FBTyxJQUluRHpDLEtBQUtrQixTQUFXbEIsS0FBS2tCLFFBQVFNLElBQUksQ0FDaENDLEtBQU96QixLQUFLRyxVQUFVc0MsTUFBUSxJQUM5QmQsSUFBTTNCLEtBQUtJLFVBQVVxQyxNQUFRLE1BRzlCekMsS0FBSzBDLE1BQU8sR0FHYkMsU0FBVSxTQUFVQyxFQUFPMUMsR0FDbkJGLEtBQUswQyxPQUNOeEMsRUFBT2tCLElBQUksS0FBT3BCLEtBQUtHLFVBQVVpQixJQUFJLElBQU1sQixFQUFPa0IsSUFBSSxLQUFPcEIsS0FBS0ssYUFBYWUsSUFBSSxJQUN2RnBCLEtBQUtpQyxTQUFVLENBQUVDLEVBQUdoQyxFQUFPdUMsUUFFdkJ2QyxFQUFPa0IsSUFBSSxLQUFPcEIsS0FBS0ksVUFBVWdCLElBQUksSUFBTWxCLEVBQU9rQixJQUFJLEtBQU9wQixLQUFLTyxhQUFhYSxJQUFJLElBQ3ZGcEIsS0FBS2lDLFNBQVUsQ0FBRUssRUFBR3BDLEVBQU91QyxZQVEvQmpELElBQUlxRCxrQkFBa0J0RCxLLDJMQ3RJdEIsSSxFQUFBSCxHLEVBQUEsb0JBQUFDLE9BQUFBLE9BQUEsWUFBQSxJQUFBQyxFQUFBQSxFQUFBLE9BQUEsTywyQkFJbUIsU0FBYndELEVBQWFMLEdBQUcsT0FBSUEsRUFBSU0sY0FBY0MsUUFBUyxNQUFPLEtBQU1BLFFBQVEsZ0JBQWdCLE1Bb0IxRixFQUFBNUQsRUFBQXFCLFNBQUV3QyxVQUFVM0IsR0FBRyxTQUFTLHdDQUF5QyxTQUFBcEQsR0FDaEUsSUFBTWdGLEdBQU0sRUFBQTlELEVBQUFxQixTQUFFdkMsRUFBRWlGLFFBQVFDLFFBQVEsY0FBY0MsS0FBSyxZQUM3Q0MsR0FBVSxFQUFBbEUsRUFBQXFCLFNBQUV2QyxFQUFFaUYsUUFBUUMsUUFBUSxjQUFjRyxTQUFTLGVBQ3JEZCxHQUFNLEVBQUFyRCxFQUFBcUIsU0FBRXZDLEVBQUVpRixRQUFRVixNQUNwQmUsRUFBVWYsRUFDVGEsSUFDSkUsRUFBVUEsRUFBUVQsY0FBY1UsVUFBVSxPQUFPVCxRQUFRLFNBQVMsS0FBS0EsUUFBUSxnQ0FBaUMsS0FHakgsSUFEQSxJQUFJMUUsRUFBSSxFQTFCTSxTQUFFNEUsRUFBS1EsRUFBR0MsR0FDeEIsSUFBTWxCLEVBQU1LLEVBQVdZLEdBRXZCLEtBQ0MsRUFBQXRFLEVBQUFxQixTQUFBLGNBQUFtRCxPQUFnQlYsRUFBaEIscUJBQXVDVyxJQUFJRixHQUFLRyxLQUFLLFNBQUN4RixFQUFFeUYsR0FDdkQsR0FBS2pCLEdBQVcsRUFBQTFELEVBQUFxQixTQUFFc0QsR0FBSXRCLFNBQVdBLEVBQ2hDLEtBQU0sZUFHUCxNQUFNdUIsR0FDUCxPQUFPLEVBRVIsT0FBTyxFQWVDQyxDQUFRZixFQUFLTSxFQUFTdEYsRUFBRWlGLFNBQy9CSyxFQUFpQixHQUFBSSxPQUFNbkIsRUFBYmEsRUFBTyxJQUFBLEtBQUFNLFNBQWV0RixJQUVqQyxFQUFBYyxFQUFBcUIsU0FBRXZDLEVBQUVpRixRQUFRVixJQUFLZSxPLGtLQ3BDbEIsSUFBTVUsRUFBYzFFLElBQUkyRSxhQUFhLFVBRXJDLENBQ0Msb0JBQ0EsbUJBQ0Esa0JBQ0EsZUFDQ0MsUUFDRCxTQUFBekUsR0FFQyxJQUFNdkIsRUFBSThGLEVBQVl4RSxPQUFRLENBQzdCQyxLQUFBQSxJQUVESCxJQUFJcUQsa0JBQW1CekUsR0FFdkJvQixJQUFJNkUsOEJBQStCLFdBQVkxRSxHQUMvQ0gsSUFBSTZFLDhCQUErQixhQUFjMUUsR0FDakRILElBQUk2RSw4QkFBK0IsV0FBWTFFLEdBQy9DSCxJQUFJNkUsOEJBQStCLGdCQUFpQjFFLEdBQ3BESCxJQUFJNkUsOEJBQStCLG1CQUFvQjFFLEdBQ3ZESCxJQUFJNkUsOEJBQStCLG9CQUFxQjFFLEdBQ3hESCxJQUFJNkUsOEJBQStCLHVCQUF3QjFFIiwiZmlsZSI6ImFkbWluL2FjZi1pbnB1dC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJpbXBvcnQgJ2FjZi9maWVsZC1zd2VldC1zcG90JztcbmltcG9ydCAnYWNmL3NlbGVjdC1jb25kaXRpb25zJztcbmltcG9ydCAnYWNmL2lkLWZpZWxkJztcbiIsImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5cbi8qKlxuICpcdFRlc3QgQ2FzZXNcbiAqXHQtIFt4XSBJbWFnZSBMaWJyYXJ5IG1vZGFsXG4gKlx0LSBbeF0gSW1hZ2UgTGlicmFyeSBzaW5nbGUgdmlld1xuICpcdC0gWyBdIEltYWdlIHNlbGVjdCBtb2RhbFxuICpcdC0gWyBdIEltYWdlIFRodW1ibmFpbCBmaWVsZFxuICpcbiAqXG4gKlxuICovXG5jb25zdCBTd2VldFNwb3RGaWVsZCA9IGFjZi5GaWVsZC5leHRlbmQoe1xuXG5cdHR5cGU6ICdpbWFnZV9zd2VldF9zcG90JyxcblxuXHRldmVudHM6IHtcblx0XHQnaW5wdXQgaW5wdXRbdHlwZT1cInJhbmdlXCJdJzogJ29uQ2hhbmdlJyxcblx0XHQnY2hhbmdlIGlucHV0JzogJ29uQ2hhbmdlJ1xuXHR9LFxuLy8qL1xuXHQkY29udHJvbDogZnVuY3Rpb24oKXtcblx0XHRyZXR1cm4gdGhpcy4kKCcuYWNmLWlucHV0LXdyYXAnKTtcblx0fSxcblx0JGlucHV0OiBmdW5jdGlvbigpe1xuXHRcdHJldHVybiB0aGlzLiQoJ2lucHV0Jyk7XG5cdH0sXG4vLyovXG5cdCRpbnB1dFg6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLiQoJ2lucHV0W3R5cGU9XCJyYW5nZVwiXS4tc3dlZXQtc3BvdC14Jyk7XG5cdH0sXG5cdCRpbnB1dFk6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLiQoJ2lucHV0W3R5cGU9XCJyYW5nZVwiXS4tc3dlZXQtc3BvdC15Jyk7XG5cdH0sXG5cdCRpbnB1dEFsdFg6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLiRpbnB1dFgoKS5uZXh0KCdbdHlwZT1cIm51bWJlclwiXScpO1xuXHR9LFxuXHQkaW5wdXRBbHRZOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy4kaW5wdXRZKCkubmV4dCgnW3R5cGU9XCJudW1iZXJcIl0nKTtcblx0fSxcblx0JGltYWdlOiBmdW5jdGlvbigpIHtcblx0XHRjb25zdCBzZWxlY3RvcnMgPSBbXG5cdFx0XHQnLm1lZGlhLW1vZGFsIGltZy5kZXRhaWxzLWltYWdlJyxcblx0XHRcdCcubWVkaWEtbW9kYWwgLnRodW1ibmFpbC1pbWFnZSBpbWcnLCAvLyBtZWRpYSBsaWJyYXJ5IG1vZGFsXG5cdFx0XHQnI3Bvc3QtYm9keS1jb250ZW50IC53cF9hdHRhY2htZW50X2ltYWdlIGltZycsIC8vIG1lZGlhIGxpYnJhcnkgc2luZ2xlIGVkaXRcblx0XHRdO1xuXHRcdHJldHVybiAkKCBzZWxlY3RvcnMuam9pbignLCcpICkuZmlyc3QoKTtcblx0fSxcblxuXHRpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcblx0XHRjb25zb2xlLnRyYWNlKCdpbml0Jylcblx0XHR0aGlzLmNsaWNrZWRDb250YWluZXIgPSB0aGlzLmNsaWNrZWRDb250YWluZXIuYmluZCh0aGlzKVxuXHRcdHRoaXMuc2V0dXBJbWFnZSA9IHRoaXMuc2V0dXBJbWFnZS5iaW5kKHRoaXMpO1xuXHRcdHRoaXMuJG1hcmtlciA9IGZhbHNlO1xuXHRcdHRoaXMuJG1hcmtlckNvbnRhaW5lciA9IGZhbHNlO1xuXHRcdGlmICggdGhpcy4kaW1hZ2UoKS5nZXQoMCkuY29tcGxldGUgKSB7XG5cdFx0XHR0aGlzLnNldHVwSW1hZ2UoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy4kaW1hZ2UoKS5vbignbG9hZCcsdGhpcy5zZXR1cEltYWdlICk7XG5cdFx0fVxuXG5cdFx0Ly90aGlzLnNldHVwSW1hZ2UoKVxuXHR9LFxuXHRzZXR1cEltYWdlOiBmdW5jdGlvbigpIHtcblx0XHRsZXQgJGltZyA9IHRoaXMuJGltYWdlKCk7XG5cdFx0aWYgKCAhICRpbWcubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHQvLyRpbWcud3JhcCgpO1xuXHRcdC8vIGlmICggJGltZy5wYXJlbnQoKS5jc3MoJ3Bvc2l0aW9uJykgPT09ICdzdGF0aWMnICkge1xuXHRcdC8vIFx0JGltZy5wYXJlbnQoKS5jc3MoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJyApO1xuXHRcdC8vIH1cblx0XHR0aGlzLiRtYXJrZXJDb250YWluZXIgPSAkKCc8ZGl2IGNsYXNzPVwic3dlZXQtc3BvdC1jb250YWluZXJcIj48L2Rpdj4nKVxuXHRcdFx0LmNzcyh7XG5cdFx0XHRcdCdsZWZ0JzokaW1nLmdldCgwKS5vZmZzZXRMZWZ0ICsgJ3B4Jyxcblx0XHRcdFx0J3RvcCc6JGltZy5nZXQoMCkub2Zmc2V0VG9wICsgJ3B4Jyxcblx0XHRcdFx0J3dpZHRoJzokaW1nLndpZHRoKCkgKyAncHgnLFxuXHRcdFx0XHQnaGVpZ2h0JzokaW1nLmhlaWdodCgpICsgJ3B4Jyxcblx0XHRcdH0pXG5cdFx0XHQuaW5zZXJ0QWZ0ZXIoJGltZylcblx0XHRcdC5vbignbW91c2V1cCcsdGhpcy5jbGlja2VkQ29udGFpbmVyICk7XG5cdFx0dGhpcy4kbWFya2VyID0gJCgnPHNwYW4gY2xhc3M9XCJzd2VldC1zcG90LW1hcmtlclwiPjwvc3Bhbj4nKS5hcHBlbmRUbyggdGhpcy4kbWFya2VyQ29udGFpbmVyICk7XG5cdFx0dGhpcy5zZXRWYWx1ZSh7fSlcblx0fSxcblx0Y2xpY2tlZENvbnRhaW5lcjogZnVuY3Rpb24oZSkge1xuXG5cdFx0dGhpcy5zZXRWYWx1ZSh7XG5cdFx0XHR4OiBNYXRoLnJvdW5kKCAxMDAgKiBlLm9mZnNldFggLyB0aGlzLiRtYXJrZXJDb250YWluZXIud2lkdGgoKSApLFxuXHRcdFx0eTogTWF0aC5yb3VuZCggMTAwICogZS5vZmZzZXRZIC8gdGhpcy4kbWFya2VyQ29udGFpbmVyLmhlaWdodCgpICksXG5cdFx0fSk7XG5cblx0fSxcblx0Z2V0VmFsdWU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHQneCc6IHRoaXMuJGlucHV0WCgpLnZhbCgpLFxuXHRcdFx0J3knOiB0aGlzLiRpbnB1dFkoKS52YWwoKSxcblx0XHR9O1xuXHR9LFxuXHRzZXRWYWx1ZTogZnVuY3Rpb24oIHZhbCApe1xuXHRcdHRoaXMuYnVzeSA9IHRydWU7XG5cblx0XHQvLyB1cGRhdGUgaW5wdXRcblx0XHRpZiAoICEhIHZhbC54ICkge1xuXHRcdFx0YWNmLnZhbCggdGhpcy4kaW5wdXRYKCksIHZhbC54ICk7XG5cdFx0XHRhY2YudmFsKCB0aGlzLiRpbnB1dEFsdFgoKSwgdGhpcy4kaW5wdXRYKCkudmFsKCksIHRydWUgKTtcblx0XHR9XG5cdFx0aWYgKCAhISB2YWwueSApIHtcblx0XHRcdGFjZi52YWwoIHRoaXMuJGlucHV0WSgpLCB2YWwueSApO1xuXHRcdFx0YWNmLnZhbCggdGhpcy4kaW5wdXRBbHRZKCksIHRoaXMuJGlucHV0WSgpLnZhbCgpLCB0cnVlICk7XG5cdFx0fVxuXG5cdFx0Ly8gdXBkYXRlIGltYWdlIG1hcmtlclxuXHRcdHRoaXMuJG1hcmtlciAmJiB0aGlzLiRtYXJrZXIuY3NzKHtcblx0XHRcdCdsZWZ0Jzp0aGlzLiRpbnB1dFgoKS52YWwoKSArICclJyxcblx0XHRcdCd0b3AnOnRoaXMuJGlucHV0WSgpLnZhbCgpICsgJyUnLFxuXHRcdH0pXG5cblx0XHR0aGlzLmJ1c3kgPSBmYWxzZTtcblx0fSxcblxuXHRvbkNoYW5nZTogZnVuY3Rpb24oIGV2ZW50LCAkaW5wdXQgKSB7XG5cdFx0aWYgKCAhIHRoaXMuYnVzeSApIHtcblx0XHRcdGlmICggJGlucHV0LmdldCgwKSA9PT0gdGhpcy4kaW5wdXRYKCkuZ2V0KDApIHx8ICRpbnB1dC5nZXQoMCkgPT09IHRoaXMuJGlucHV0QWx0WCgpLmdldCgwKSApIHtcblx0XHRcdFx0dGhpcy5zZXRWYWx1ZSggeyB4OiAkaW5wdXQudmFsKCkgfSApXG5cdFx0XHR9XG5cdFx0XHRpZiAoICRpbnB1dC5nZXQoMCkgPT09IHRoaXMuJGlucHV0WSgpLmdldCgwKSB8fCAkaW5wdXQuZ2V0KDApID09PSB0aGlzLiRpbnB1dEFsdFkoKS5nZXQoMCkgKSB7XG5cdFx0XHRcdHRoaXMuc2V0VmFsdWUoIHsgeTogJGlucHV0LnZhbCgpIH0gKVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXG59KTtcblxuYWNmLnJlZ2lzdGVyRmllbGRUeXBlKFN3ZWV0U3BvdEZpZWxkKVxuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcblxuY29uc3QgaWRGaWVsZHMgPSB7fTtcblxuY29uc3Qgc2FuaXRpemVJRCA9IHZhbCA9PiB2YWwudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCAvXFxzL2csICctJyApLnJlcGxhY2UoL1teMC05YS16X1xcLV0vZywnLScpO1xuXG5jb25zdCBoYXNWYWwgPSAoIGtleSwgdiwgb3duICkgPT4ge1xuXHRjb25zdCB2YWwgPSBzYW5pdGl6ZUlEKHYpXG5cblx0dHJ5IHtcblx0XHQkKGBbZGF0YS1rZXk9XCIke2tleX1cIl0gW3R5cGU9XCJ0ZXh0XCJdYCkubm90KG93bikuZWFjaCgoaSxlbCk9Pntcblx0XHRcdGlmICggc2FuaXRpemVJRCgkKGVsKS52YWwoKSkgPT09IHZhbCApIHtcblx0XHRcdFx0dGhyb3cgJ3ZhbCBleGlzdHMnXG5cdFx0XHR9XG5cdFx0fSlcblx0fSBjYXRjaChlcnIpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHRyZXR1cm4gZmFsc2U7XG5cbn1cblxuLy8gZ2F0aGVyIElEIGZpZWxkc1xuLy9cbiQoZG9jdW1lbnQpLm9uKCdjaGFuZ2UnLCcuYWNmLWZpZWxkLmFjZi1pZC1maWVsZCBbdHlwZT1cInRleHRcIl0nLCBlID0+IHtcblx0Y29uc3Qga2V5ID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmFjZi1maWVsZCcpLmF0dHIoJ2RhdGEta2V5Jyk7XG5cdGNvbnN0IGlzX29uY2UgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuYWNmLWZpZWxkJykuaGFzQ2xhc3MoJ2FjZi1pZC1vbmNlJyk7XG5cdGNvbnN0IHZhbCA9ICQoZS50YXJnZXQpLnZhbCgpO1xuXHRsZXQgbmV3X3ZhbCA9IHZhbFxuXHRpZiAoIGlzX29uY2UgKSB7XG5cdFx0bmV3X3ZhbCA9IG5ld192YWwudG9Mb3dlckNhc2UoKS5ub3JtYWxpemUoXCJORkRcIikucmVwbGFjZSgvKFxccyspL2csJy0nKS5yZXBsYWNlKC9bXFx1MDAwMC1cXHUwMDIwXFx1MDA3Ri1cXHVmZmZmXS9nLCBcIlwiKVxuXHR9XG5cdGxldCBpID0gMDtcblx0d2hpbGUgKCBoYXNWYWwoIGtleSwgbmV3X3ZhbCwgZS50YXJnZXQgKSApIHtcblx0XHRuZXdfdmFsID0gaXNfb25jZSA/IGAke3ZhbH0tJHsrK2l9YCA6IGAke3ZhbH0gJHsrK2l9YFxuXHR9XG5cdCQoZS50YXJnZXQpLnZhbCggbmV3X3ZhbCApXG5cbn0pXG4iLCJjb25zdCBzZWxlY3RGaWVsZCA9IGFjZi5nZXRGaWVsZFR5cGUoJ3NlbGVjdCcpO1xuLy8gbWFrZSBzZWxlY3QyIHdvcmtcbltcblx0J2ltYWdlX3NpemVfc2VsZWN0Jyxcblx0J3Bvc3RfdHlwZV9zZWxlY3QnLFxuXHQndGF4b25vbXlfc2VsZWN0Jyxcblx0J3JvbGVfc2VsZWN0J1xuXS5mb3JFYWNoKFxuXHR0eXBlID0+IHtcblxuXHRcdGNvbnN0IHQgPSBzZWxlY3RGaWVsZC5leHRlbmQoIHtcblx0XHRcdHR5cGUsXG5cdFx0fSApO1xuXHRcdGFjZi5yZWdpc3RlckZpZWxkVHlwZSggdCApO1xuXG5cdFx0YWNmLnJlZ2lzdGVyQ29uZGl0aW9uRm9yRmllbGRUeXBlKCAnaGFzVmFsdWUnLCB0eXBlICk7XG5cdFx0YWNmLnJlZ2lzdGVyQ29uZGl0aW9uRm9yRmllbGRUeXBlKCAnaGFzTm9WYWx1ZScsIHR5cGUgKTtcblx0XHRhY2YucmVnaXN0ZXJDb25kaXRpb25Gb3JGaWVsZFR5cGUoICdjb250YWlucycsIHR5cGUgKTtcblx0XHRhY2YucmVnaXN0ZXJDb25kaXRpb25Gb3JGaWVsZFR5cGUoICdzZWxlY3RFcXVhbFRvJywgdHlwZSApO1xuXHRcdGFjZi5yZWdpc3RlckNvbmRpdGlvbkZvckZpZWxkVHlwZSggJ3NlbGVjdE5vdEVxdWFsVG8nLCB0eXBlICk7XG5cdFx0YWNmLnJlZ2lzdGVyQ29uZGl0aW9uRm9yRmllbGRUeXBlKCAnc2VsZWN0aW9uTGVzc1RoYW4nLCB0eXBlICk7XG5cdFx0YWNmLnJlZ2lzdGVyQ29uZGl0aW9uRm9yRmllbGRUeXBlKCAnc2VsZWN0aW9uR3JlYXRlclRoYW4nLCB0eXBlICk7XG5cblx0fVxuKTtcbiJdfQ==
